# Implementation Plan: Fix API Endpoint URL

## 1. Context & Goal
The API Scanner is failing with 404 errors because the constructed URL includes the `courseId`, which the API does not expect for the `/studies` endpoint. We will correct the URL pattern to match the one verified in our console tests.

## 2. Memory Update
Correcting `src/content/index.ts` to remove `courseId` from the studies API endpoint path (`.../courses/chapters/...` instead of `.../courses/{id}/chapters/...`).

## 3. Step-by-Step Instructions

### Step 1: Fix URL Construction
**Action:** Modify `src/content/index.ts`
**Description:**
- Locate the `scanPage` function.
- Find the `chapterUrl` definition inside the loop.
- **Change:**
    - From: `` `https://cag.chessly.com/beta/openings/courses/${courseId}/chapters/${chapter.id}/studies` ``
    - To: `` `https://cag.chessly.com/beta/openings/courses/chapters/${chapter.id}/studies` ``
- **Constraint:** Ensure `credentials: 'include'` is still passed to the fetch call.

## 4. Verification
1.  Run `npm run build`.
2.  Reload Extension.
3.  Refresh Chessly page.
4.  Start Extraction.
5.  **Observe:** The console logs should switch from `404` to `200 OK`, and "Found X studies" will report the correct number.
